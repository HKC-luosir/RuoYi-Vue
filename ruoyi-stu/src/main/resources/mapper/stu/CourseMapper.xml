<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.stu.mapper.CourseMapper">
    <resultMap id="CourseMap" type="com.ruoyi.stu.domain.Course">
        <result property="courseId"    column="course_id"    />
        <result property="courseNo"    column="course_no"    />
        <result property="courseName"    column="course_name"    />
        <result property="courseType"    column="course_type"    />
        <result property="coursePlan"    column="course_plan"    />
        <result property="courseExec"    column="course_exec"    />
        <result property="courseScore"    column="course_score"    />
    </resultMap>
    <select id="selectAllCourses" resultMap="CourseMap">
        SELECT course_id,course_no,course_name,course_type,course_plan,course_exec,course_score FROM course
        <where>
            <if test="courseName != null and courseName != ''">
                AND course_name LIKE CONCAT('%',#{courseName},'%')
            </if>
        </where>
    </select>
    <update id="updateCourse">
        UPDATE course
        <set>
            <if test="courseNo!=null and courseNo!=''">
                course_no = #{courseNo},
            </if>
            <if test="courseName!=null and courseName!=''">
                course_name = #{courseName},
            </if>
            <if test="courseType!=null and courseType!=''">
                course_type = #{courseType},
            </if>
            <if test="coursePlan!=null and coursePlan!=''">
                course_plan = #{coursePlan},
            </if>
            <if test="courseExec!=null and courseExec!=''">
                course_exec = #{courseExec},
            </if>
            <if test="courseScore!=null and courseScore!=''">
                course_score = #{courseScore},
            </if>
        </set>
        WHERE course_id = #{courseId}
    </update>
    <insert id="addCourse">
        INSERT course(course_no,course_name,course_type,course_plan,course_exec,course_score)
        VALUES (#{courseNo},#{courseName},#{courseType},#{coursePlan},#{courseExec},#{courseScore})
    </insert>
    <delete id="delCourse">
        DELETE FROM course
        WHERE course_id IN
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>