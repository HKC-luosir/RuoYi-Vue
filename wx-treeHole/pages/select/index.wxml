<wxs src="../../wxss/str.wxs" module="strUtil"></wxs>
<wxs src="../../wxss/format.wxs" module="formatUtil"></wxs>
<wxs src="../../wxss/dicts.wxs" module="dictsUtil"></wxs>
<view class="bView">
  <wux-tabs class="wuxTab" theme="positive" controlled current="{{ currentKey }}" bindchange="onTabsChange">
    <block wx:for="{{ tabs }}" wx:key="key">
      <wux-tab key="{{ item.key }}" title="{{ item.title }}"></wux-tab>
    </block>
  </wux-tabs>
  <swiper style="width:{{pWidth}}px;height:{{pHeight-tabHeight}}px;" current="{{ currentIndex }}" bindchange="swiperChange">
    <!-- 选人下单 -->
    <swiper-item>
      <scroll-view scroll-y="true" class="view_all_adapt">

        <!-- 新人推荐 -->
        <column-view title="热门推荐" moreTitle="非常热门哟" ifShowIco="1"></column-view>
        <scroll-view scroll-x class="view_box_common">
          <view class="view_box_row">
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
            <view class="newPeopleItem" bind:tap="toStaffInfoShow">
              <image src="../../static/temp/t1.png"></image>
              <view class="newPeopleName">小甜甜</view>
              <view class="girl_bg_color newPeopleBut">下单</view>
            </view>
          </view>
        </scroll-view>

        <!-- 筛选栏 -->
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common view_box_row_content_symmetry filterView" style="width: 88%;">
          <view class="view_box_row_content filterItem">
            <span>服务类型</span>
            <wux-icon type="ios-arrow-down" size="14" color="#80848f"></wux-icon>
          </view>
          <view class="verticalLine"></view>
          <view class="view_box_row_content filterItem">
            <span>性别</span>
            <wux-icon type="ios-arrow-down" size="14" color="#80848f"></wux-icon>
          </view>
          <view class="verticalLine"></view>
          <view class="view_box_row_content filterItem">
            <span>等级</span>
            <wux-icon type="ios-arrow-down" size="14" color="#80848f"></wux-icon>
          </view>
        </view>

        <!-- 员工数据 -->
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <view class="view_all_adapt view_box_common view_box_row_content_symmetry">
            <view class="staffAvatarView">
              <image class="view_all_adapt" src="../../static/temp/t1.png"></image>
              <!-- 语音数据 -->
              <view class="girl_bg_color staffVoice">
                <view class="view_box_common view_box_row">
                  <image class="voicePlay" src="../../static/ico/play.png" mode="widthFix"></image>
                  <image class="voiceAudioImg" src="../../static/ico/audio_frequency.png" mode="widthFix" style="width: {{100*0.92-44}}px;"></image>
                  <view class="voiceSeconds">14s</view>
                </view>
              </view>
            </view>
            <view class="view_box_column_symmetry" style="width: {{pWidth*0.92*0.92-110}}px;height: 92px;">
              <view>
                <view class="view_box_row_content_symmetry">
                  <!-- 名字和金牌情况 -->
                  <view class="view_box_row_content">
                    <view class="staffName">魔爪来袭</view>
                    <view class="staffBadgeLevel view_box_row_content badgeLevel_4">
                      <image src="../../static/images/badge_level_4.png" mode="widthFix"></image>
                      <view>女神</view>
                    </view>
                  </view>
                  <!-- 在线情况 -->
                  <view class="staffOnLineState view_box_row_content">
                    <image src="../../static/ico/online_32.png"></image>
                    <view>在线</view>
                  </view>
                </view>
                <!-- 用户基本信息 -->
                <view class="view_box_row staffBaseInfo">
                  <view>广东·清远</view>
                  <view>女</view>
                  <view>27</view>
                </view>
                <!-- 个人介绍 -->
                <view class="staffDetails text_ellipsis">
                  开开心心一整天又过去了
                </view>
              </view>
              <!-- 员工服务 -->
              <view class="view_box_row">
                <view class="staffService">
                  <span>文语</span><text>|</text><span>视频</span><text>|</text><span>连麦</span><text>|</text><span>游戏</span>
                </view>
              </view>
            </view>
          </view>
          <!-- 员工标签 -->
          <view class="view_box_common staffLabel view_box_row_wrap">
            <view class="girl_edging_color girl_font_color staffLabelItem">人间蜜桃🍑</view>
            <view class="girl_edging_color girl_font_color staffLabelItem">恶毒前妻</view>
            <view class="girl_edging_color girl_font_color staffLabelItem">心动在此刻</view>
            <view class="girl_edging_color girl_font_color staffLabelItem">指定可视频</view>
          </view>
        </view>
        <view class="seizeSeat_mini"></view>

        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <view class="view_all_adapt view_box_common view_box_row_content_symmetry">
            <view class="staffAvatarView">
              <image class="view_all_adapt" src="../../static/temp/t1.png"></image>
              <!-- 语音数据 -->
              <view class="boy_bg_color staffVoice">
                <view class="view_box_common view_box_row">
                  <image class="voicePlay" src="../../static/ico/play.png" mode="widthFix"></image>
                  <image class="voiceAudioImg" src="../../static/ico/audio_frequency.png" mode="widthFix" style="width: {{100*0.92-44}}px;"></image>
                  <view class="voiceSeconds">14s</view>
                </view>
              </view>
            </view>
            <view class="view_box_column_symmetry" style="width: {{pWidth*0.92*0.92-110}}px;height: 92px;">
              <view>
                <view class="view_box_row_content_symmetry">
                  <!-- 名字和金牌情况 -->
                  <view class="view_box_row_content">
                    <view class="staffName">魔爪来袭</view>
                    <view class="staffBadgeLevel view_box_row_content badgeLevel_4">
                      <image src="../../static/images/badge_level_4.png" mode="widthFix"></image>
                      <view>女神</view>
                    </view>
                  </view>
                  <!-- 在线情况 -->
                  <view class="staffOnLineState view_box_row_content">
                    <image src="../../static/ico/online_32.png"></image>
                    <view>在线</view>
                  </view>
                </view>
                <!-- 用户基本信息 -->
                <view class="view_box_row staffBaseInfo">
                  <view>广东·清远</view>
                  <view>女</view>
                  <view>27</view>
                </view>
                <!-- 个人介绍 -->
                <view class="staffDetails text_ellipsis">
                  开开心心一整天又过去了
                </view>
              </view>
              <!-- 员工服务 -->
              <view class="view_box_row">
                <view class="staffService">
                  <span>文语</span><text>|</text><span>视频</span><text>|</text><span>连麦</span><text>|</text><span>游戏</span>
                </view>
              </view>
            </view>
          </view>
          <!-- 员工标签 -->
          <view class="view_box_common staffLabel view_box_row_wrap">
            <view class="boy_edging_color boy_font_color staffLabelItem">人间蜜桃🍑</view>
            <view class="boy_edging_color boy_font_color staffLabelItem">恶毒前妻</view>
            <view class="boy_edging_color boy_font_color staffLabelItem">心动在此刻</view>
            <view class="boy_edging_color boy_font_color staffLabelItem">指定可视频</view>
          </view>
        </view>
        <view class="seizeSeat_mini"></view>

      </scroll-view>
    </swiper-item>
    <!-- 盲盒下单 -->
    <swiper-item>
      <scroll-view scroll-y="true" style="width:{{pWidth}}px;height:{{pHeight-tabHeight-randomBottomViewHeight}}px;">
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <view class="view_box_common view_box_row_content_symmetry">
            <view class="view_box_row_content tempColumn">
              <image src="../../static/ico/theme_dot.png"></image>
              <view>店员性别与标签</view>
            </view>
            <view class="randomSexView view_box_row_content">
              <view wx:if="{{randomForm.sex == '0'}}" class="view_box_row_content boy_edging_color boy_font_color">
                <image src="../../static/ico/theme_boy.png"></image>
                <span>男生</span>
              </view>
              <view wx:if="{{randomForm.sex != '0'}}" class="view_box_row_content" data-sex="0" bind:tap="randomChooseSex">
                <image src="../../static/ico/theme_boy.png"></image>
                <span>男生</span>
              </view>
              <view wx:if="{{randomForm.sex == '1'}}" class="view_box_row_content girl_edging_color girl_font_color">
                <image src="../../static/ico/theme_girl.png"></image>
                <span>女生</span>
              </view>
              <view wx:if="{{randomForm.sex != '1'}}" class="view_box_row_content" data-sex="1" bind:tap="randomChooseSex">
                <image src="../../static/ico/theme_girl.png"></image>
                <span>女生</span>
              </view>
            </view>
          </view>
          <view class="view_box_common scopeLabelView view_box_row_content_symmetry_wrap">
            <block wx:for="{{staffCustomizeLabel[randomForm.sex]}}" wx:key="index">
              <view data-label="{{item}}" bind:tap="chooseRandomStaffLabel" class="staffLevelItem {{strUtil.checkArrIncludeStr(randomForm.chooseLabel, item) ? 'boy_bg_color randomChooseLebal' : ''}}">{{item}}</view>
            </block>
          </view>
          <view class="seizeSeat_mini"></view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <column-view title="店员等级" ifShowMore="1" outerMargin="0"></column-view>
          <view class="view_box_common scopeLabelView view_box_row_content_symmetry_wrap">
            <block wx:for="{{staffLevelConfig}}" wx:key="id">
              <view class="staffLevelItem {{index == randomForm.staffLevelIndex?'boy_bg_color randomChooseLebal':''}}" bind:tap="randomStaffLevelChoose" data-index="{{index}}">{{item.name}}</view>
            </block>
          </view>
          <view class="seizeSeat_mini"></view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <column-view title="服务类型" ifShowMore="1" outerMargin="0"></column-view>
          <view class="view_box_common scopeLabelView view_box_row_content_symmetry_wrap ">
            <block wx:for="{{serviceList}}" wx:key="id">
              <view class="staffLevelItem {{index == randomForm.serviceInfoIndex?'boy_bg_color randomChooseLebal':''}}" bind:tap="randomServiceChoose" data-index="{{index}}">{{item.name}}</view>
            </block>
          </view>
          <view class="seizeSeat_mini"></view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <column-view title="服务内容选项" ifShowMore="1" outerMargin="0"></column-view>
          <view class="view_box_common scopeLabelView view_box_row_content_symmetry_wrap ">
            <block wx:for="{{serviceList[randomForm.serviceInfoIndex].serviceItemList}}" wx:key="id">
              <view class="staffLevelItem {{index == randomForm.serviceInfoItemIndex?'boy_bg_color randomChooseLebal':''}}" bind:tap="randomServiceItemChoose" data-index="{{index}}">{{item.name}}</view>
            </block>
          </view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem" bind:tap="selectUserAccount">
          <view class="view_box_common view_box_row_content_symmetry">
            <view class="view_box_row_content tempColumn">
              <image src="../../static/ico/theme_dot.png"></image>
              <view>社交账号</view>
            </view>
            <view class="view_box_row_content scopeTextView">
              <view>{{randomForm.customNum!=null?dictsUtil.social_accounts(randomForm.accountServiceProvider)+"-"+randomForm.customNum:"请选择您的社交账号"}}</view>
              <wux-icon type="ios-arrow-forward" size="16" color="#80848f"></wux-icon>
            </view>
          </view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <view class="view_box_common view_box_row_content_symmetry">
            <view class="view_box_row_content tempColumn">
              <image src="../../static/ico/theme_dot.png"></image>
              <view>排除服务过的店员</view>
            </view>
            <wux-switch name="light" slot="footer" color="royal" value="{{randomForm.ifExclude == 'Y'}}" bind:change="changeIfExclude" />
          </view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <view class="view_box_common view_box_row_content_symmetry">
            <view class="view_box_row_content tempColumn">
              <image src="../../static/ico/theme_dot.png"></image>
              <view>购买数量</view>
            </view>
            <wux-input-number controlled="true" color="royal" slot="footer" min="1" max="99" value="{{randomForm.num}}" bind:change="randomBuyNumChange" />
          </view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <column-view title="备注" ifShowMore="1" outerMargin="0"></column-view>
          <view class="view_box_common">
            <view class="seizeSeat_mini"></view>
            <textarea maxlength="64" auto-height="true" placeholder="可输入您的备注信息哟" style="width: 100%;z-index: 100;" bindinput="randomRemark"></textarea>
          </view>
        </view>
        <view class="seizeSeat_mini"></view>
        <view class="view_box_common staffItem">
          <column-view title="支付方式" ifShowMore="1" outerMargin="0"></column-view>
          <view class="view_box_common">
            <view class="view_box_row_content_symmetry">
              <view class="payWayView view_box_row_content">
                <image src="../../static/ico/wx_pay.png" mode="widthFix"></image>
                <span>微信支付</span>
              </view>
              <radio data-pay="0" checked="{{randomForm.payWay == '0'}}" color="#8978E4" bind:tap="payWayChange" />
            </view>
            <view class="view_box_row_content_symmetry">
              <view class="payWayView view_box_row_content">
                <image src="../../static/ico/wallet.png" mode="widthFix"></image>
                <span>枫叶支付</span>
              </view>
              <view class="view_box_row_content">
                <view style="font-size: 12px;margin-right: 10px;color: #80848f;">我的枫叶：{{formatUtil.toFixed(userInfo.userWalletVo.balance+userInfo.userWalletVo.giftBalance)}}</view>
                <radio data-pay="1" checked="{{randomForm.payWay == '1'}}" color="#8978E4" bind:tap="payWayChange" />
              </view>
            </view>
          </view>
        </view>
        <view class="seizeSeat_mini"></view>
      </scroll-view>
      <view class="randomBottomView view_box_row_content">
        <view class="view_box_row_content_symmetry" style="width: {{pWidth*0.92*0.92}}px;margin: 0 auto;">
          <view class="view_box_row_content randomPriceView">
            <view>总价：</view>
            <span>￥</span>
            <text>{{formatUtil.toFixed(randomForm.price)}}</text>
          </view>
          <view class="submitOrderBut">立即下单</view>
        </view>
      </view>
    </swiper-item>
  </swiper>
</view>