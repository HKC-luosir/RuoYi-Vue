<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.gbxxgl.mapper.TsbzGbxxjlMapper">

    <resultMap type="TsbzGbxxjl" id="TsbzGbxxjlResult">
        <result property="id" column="id"/>
        <result property="gbid" column="gbid"/>
        <result property="jylx" column="jylx"/>
        <result property="xl" column="xl"/>
        <result property="xw" column="xw"/>
        <result property="qsny" column="qsny"/>
        <result property="zzny" column="zzny"/>
        <result property="byyx" column="byyx"/>
        <result property="zy" column="zy"/>
        <result property="zw" column="zw"/>
        <result property="createUserid" column="create_userid"/>
        <result property="createTime" column="create_time"/>
    </resultMap>

    <sql id="selectTsbzGbxxjlVo">
        select id, gbid, jylx, xl, xw, qsny, zzny, byyx, zy, zw, create_userid, create_time from tsbz_gbxxjl
    </sql>

    <select id="selectTsbzGbxxjlList" parameterType="TsbzGbxxjl" resultMap="TsbzGbxxjlResult">
        <include refid="selectTsbzGbxxjlVo"/>
        <where>
            <if test="gbid != null ">and gbid = #{gbid}</if>
            <if test="jylx != null  and jylx != ''">and jylx = #{jylx}</if>
            <if test="xl != null  and xl != ''">and xl = #{xl}</if>
            <if test="xw != null  and xw != ''">and xw = #{xw}</if>
            <if test="qsny != null ">and qsny = #{qsny}</if>
            <if test="zzny != null ">and zzny = #{zzny}</if>
            <if test="byyx != null  and byyx != ''">and byyx = #{byyx}</if>
            <if test="zy != null  and zy != ''">and zy = #{zy}</if>
            <if test="zw != null  and zw != ''">and zw = #{zw}</if>
            <if test="createUserid != null ">and create_userid = #{createUserid}</if>
        </where>
    </select>

    <select id="selectTsbzGbxxjlById" parameterType="Long" resultMap="TsbzGbxxjlResult">
         select a.id, a.gbid, a.jylx, a.xl, a.xw, a.qsny, a.zzny, a.byyx, a.zy, a.zw, a.create_userid, a.create_time,
        b.dept_id as deptid
        from tsbz_gbxxjl a
        left join tsbz_gbjbqk b
        on a.gbid=b.id
        where a.id = #{id}
    </select>

    <insert id="insertTsbzGbxxjl" parameterType="TsbzGbxxjl" useGeneratedKeys="true" keyProperty="id">
        insert into tsbz_gbxxjl
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="gbid != null">gbid,</if>
            <if test="jylx != null">jylx,</if>
            <if test="xl != null">xl,</if>
            <if test="xw != null">xw,</if>
            <if test="qsny != null">qsny,</if>
            <if test="zzny != null">zzny,</if>
            <if test="byyx != null">byyx,</if>
            <if test="zy != null">zy,</if>
            <if test="zw != null">zw,</if>
            <if test="createUserid != null">create_userid,</if>
            <if test="createTime != null">create_time,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="gbid != null">#{gbid},</if>
            <if test="jylx != null">#{jylx},</if>
            <if test="xl != null">#{xl},</if>
            <if test="xw != null">#{xw},</if>
            <if test="qsny != null">#{qsny},</if>
            <if test="zzny != null">#{zzny},</if>
            <if test="byyx != null">#{byyx},</if>
            <if test="zy != null">#{zy},</if>
            <if test="zw != null">#{zw},</if>
            <if test="createUserid != null">#{createUserid},</if>
            <if test="createTime != null">#{createTime},</if>
        </trim>
    </insert>

    <update id="updateTsbzGbxxjl" parameterType="TsbzGbxxjl">
        update tsbz_gbxxjl
        <trim prefix="SET" suffixOverrides=",">
            <if test="gbid != null">gbid = #{gbid},</if>
            <if test="jylx != null">jylx = #{jylx},</if>
            <if test="xl != null">xl = #{xl},</if>
            <if test="xw != null">xw = #{xw},</if>
            <if test="qsny != null">qsny = #{qsny},</if>
            <if test="zzny != null">zzny = #{zzny},</if>
            <if test="byyx != null">byyx = #{byyx},</if>
            <if test="zy != null">zy = #{zy},</if>
            <if test="zw != null">zw = #{zw},</if>
            <if test="createUserid != null">create_userid = #{createUserid},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteTsbzGbxxjlById" parameterType="Long">
        delete from tsbz_gbxxjl where id = #{id}
    </delete>

    <delete id="deleteTsbzGbxxjlByIds" parameterType="String">
        delete from tsbz_gbxxjl where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

</mapper>