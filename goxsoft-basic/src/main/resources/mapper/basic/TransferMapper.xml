<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gox.basic.mapper.TransferMapper">
    
    <resultMap type="Transfer" id="TransferResult">
        <result property="id"    column="id"    />
        <result property="deptId"    column="deptId"    />
        <result property="remark"    column="remark"    />
        <result property="transuser"    column="transuser"    />
        <result property="transcount"    column="transcount"    />
        <result property="transdep"    column="transdep"    />
        <result property="transTime"    column="transTime"    />
        <result property="status"    column="status"    />
        <result property="metadataid"    column="metadataid"    />
    </resultMap>

    <sql id="selectTransferVo">
        select id,deptId, remark, transuser, transcount, transdep, transTime, status, metadataid from transfer
    </sql>

    <select id="selectTransferList" parameterType="Transfer" resultMap="TransferResult">
        <include refid="selectTransferVo"/>
        <where>  
            <if test="deptId != null "> and deptId = #{deptId}</if>
            <if test="transuser != null  and transuser != ''"> and transuser = #{transuser}</if>
            <if test="transcount != null "> and transcount = #{transcount}</if>
            <if test="transdep != null  and transdep != ''"> and transdep = #{transdep}</if>
            <if test="transtime != null "> and transTime = #{transtime}</if>
            <if test="status != null  and status != ''"> and status = #{status}</if>
            <if test="metadataid != null  and metadataid != ''"> and metadataid = #{metadataid}</if>
        </where>
    </select>
    
    <select id="selectTransferById" parameterType="Long" resultMap="TransferResult">
        <include refid="selectTransferVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertTransfer" parameterType="Transfer">
        insert into transfer
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">id,</if>
            <if test="deptId != null">deptId,</if>
            <if test="remark != null">remark,</if>
            <if test="transuser != null">transuser,</if>
            <if test="transcount != null">transcount,</if>
            <if test="transdep != null">transdep,</if>
            <if test="transTime != null">transTime,</if>
            <if test="status != null">status,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">#{id},</if>
            <if test="deptId != null">#{deptId},</if>
            <if test="remark != null">#{remark},</if>
            <if test="transuser != null">#{transuser},</if>
            <if test="transcount != null">#{transcount},</if>
            <if test="transdep != null">#{transdep},</if>
            <if test="transTime != null">#{transTime},</if>
            <if test="status != null">#{status},</if>
         </trim>
    </insert>

    <update id="updateTransfer" parameterType="Transfer">
        update transfer
        <trim prefix="SET" suffixOverrides=",">
            <if test="deptId != null">deptId = #{deptId},</if>
            <if test="remark != null">remark = #{remark},</if>
            <if test="transuser != null">transuser = #{transuser},</if>
            <if test="transcount != null">transcount = #{transcount},</if>
            <if test="transdep != null">transdep = #{transdep},</if>
            <if test="transtime != null">transTime = #{transtime},</if>
            <if test="status != null">status = #{status},</if>
            <if test="metadataid != null">metadataid = #{metadataid},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteTransferById" parameterType="Long">
        delete from transfer where id = #{id}
    </delete>

    <delete id="deleteTransferByIds" parameterType="String">
        delete from transfer where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>